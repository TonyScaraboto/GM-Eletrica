---
import BaseLayout from "../layouts/BaseLayout.astro";
---

<BaseLayout
  title="Contato | GM El√©trica"
  description="Fale com a equipe GM El√©trica para or√ßamentos, emerg√™ncias ou d√∫vidas t√©cnicas."
>
  <section class="page-hero">
    <div class="container">
      <p class="section-eyebrow">Contato</p>
      <h1>Vamos conversar sobre o seu projeto</h1>
      <p>
        Substitua os dados abaixo pelas informa√ß√µes oficiais da GM El√©trica e mantenha seu canal de atendimento sempre atualizado.
      </p>
    </div>
  </section>

  <section class="contato">
    <div class="container contato__grid">
      <div>
        <ul class="contact-list">
          <li><strong>WhatsApp:</strong> (13) 99699-9930</li>
          <li><strong>E-mail:</strong> guilherme.eletricista013@gmail.com</li>
          <li><strong>Endere√ßo:</strong> Rua Jos√© de Assis, 60 - Vila Erminda, Peru√≠be - SP</li>
          <li><strong>Hor√°rio:</strong> Segunda a s√°bado, 8h √†s 20h</li>
        </ul>
        <div class="contact-map">
          <iframe
            src="https://maps.google.com/maps?q=Rua+Jos%C3%A9+de+Assis,+60,+Vila+Erminda,+Peru%C3%ADbe,+SP&t=&z=15&ie=UTF8&iwloc=&output=embed"
            width="100%"
            height="300"
            style="border:0; border-radius: 12px;"
            allowfullscreen=""
            loading="lazy"
            referrerpolicy="no-referrer-when-downgrade"
            title="Localiza√ß√£o GM El√©trica - Rua Jos√© de Assis, 60 - Vila Erminda, Peru√≠be - SP"
          ></iframe>
        </div>
      </div>
      <form class="contato__form" id="contactForm">
        <label for="nome">Nome completo</label>
        <input id="nome" name="nome" type="text" required />

        <label for="email">E-mail</label>
        <input id="email" name="email" type="email" required />

        <label for="telefone">Telefone ou WhatsApp</label>
        <input id="telefone" name="telefone" type="tel" />

        <label for="mensagem">Como podemos ajudar?</label>
        <textarea id="mensagem" name="mensagem" rows="4" required></textarea>

        <button type="submit">Enviar via WhatsApp</button>
      </form>
    </div>
  </section>
</BaseLayout>

<script>
  document.getElementById('contactForm')?.addEventListener('submit', function(e) {
    e.preventDefault();
    
    const nome = (document.getElementById('nome') as HTMLInputElement)?.value || '';
    const email = (document.getElementById('email') as HTMLInputElement)?.value || '';
    const telefone = (document.getElementById('telefone') as HTMLInputElement)?.value || '';
    const mensagem = (document.getElementById('mensagem') as HTMLTextAreaElement)?.value || '';
    
    let textoWhatsApp = `Ol√°! Meu nome √© *${nome}*.\n\n`;
    textoWhatsApp += `üìß E-mail: ${email}\n`;
    if (telefone) {
      textoWhatsApp += `üì± Telefone: ${telefone}\n`;
    }
    textoWhatsApp += `\nüí¨ Mensagem:\n${mensagem}`;
    
    const numeroWhatsApp = '5513996999930';
    const urlWhatsApp = `https://wa.me/${numeroWhatsApp}?text=${encodeURIComponent(textoWhatsApp)}`;
    
    window.open(urlWhatsApp, '_blank');
  });
</script>
